CREATE TABLE leagues (
    id INTERGER PRIMARY KEY GENERATED BY DEFAULT IDENTITY,
    name TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS teams (
    id INTERGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    leagueId INTERGER REFERCNCES leagues(id) ON DELETE CASCADE NOT NULL,
    name TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS games (
    id INTERGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    leagueId INTERGER REFERCNCES leagues(id) ON DELETE CASCADE NOT NULL,
    homeTeamId INTERGER REFERCNCES teams(id) ON DELETE CASCADE NOT NULL,
    awayTeamId INTERGER REFERCNCES teams(id) ON DELETE CASCADE NOT NULL,
    date TIMESTAMPTZ NOT NULL DEFAULT now(),
    name TEXT NOT NULL,
    homeTeamScore INTERGER NOT NULL,
    homeTeamAssists INTERGER NOT NULL,
    homeTeamThrees INTERGER NOT NULL,
    homeTeamSteals INTERGER NOT NULL,
    homeTeamBlocks INTERGER NOT NULL,
    awayTeamScore INTERGER NOT NULL,
    awayTeamAssists INTERGER NOT NULL,
    awayTeamThrees INTERGER NOT NULL,
    awayTeamSteals INTERGER NOT NULL,
    awayTeamBlocks INTERGER NOT NULL,
);

CREATE TABLE IF NOT EXISTS players (
    id INTERGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    leagueId INTERGER REFERCNCES leagues(id) ON DELETE CASCADE NOT NULL,
    teamId INTERGER REFERCNCES teams(id) ON DELETE CASCADE NOT NULL,
    role TEXT NOT NULL,
    city TEXT NOT NULL,
    phone TEXT NOT NULL,
    name TEXT NOT NULL
);
